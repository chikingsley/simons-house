<div align="center">
<img width="1200" height="475" alt="GHBanner" src="[github.com/user-attachments](https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6") />
</div>

# Simon's House (`simons-house`)

Vite + React app backed by **Convex**with**Clerk** authentication.

## Run Locally

* *Prerequisites:** Node.js (or Bun)

1. Install dependencies:
   `npm install` (or `bun install`)
2. Create [.env.local](.env.local) and set:
    - `VITE_CONVEX_URL`
    - `VITE_CLERK_PUBLISHABLE_KEY`
3. Run the app:
   `npm run dev` (or `bun run dev`)

## Convex + Clerk setup (required)

- In **Clerk**, create a JWT template for Convex (per Convex docs).
- In **Convex**, enable Clerk auth so `ctx.auth.getUserIdentity()` is populated.

## R2 uploads (avatars/covers/photos)

This repo uses **Cloudflare R2** via presigned PUT URLs generated by a Convex action (`convex/files.ts`).

Set these as Convex environment variables:

- `CLERK_ISSUER_URL`
- `R2_ENDPOINT` (your R2 S3 API endpoint)
- `R2_BUCKET` (e.g. `simonshouse`)
- `R2_ACCESS_KEY_ID`
- `R2_SECRET_ACCESS_KEY`
- `R2_PUBLIC_BASE_URL` (e.g. your `*.r2.dev` public base URL)

Bucket requirements:

- Enable **Public Access** (or use a custom public domain) so `R2_PUBLIC_BASE_URL/<key>` is viewable.
- Add **CORS** to allow uploads from your dev + prod origins (Vercel + localhost).
